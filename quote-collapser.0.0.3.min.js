/* Author:
 Ioan G. Istrate https://github.com/iistrate
 */
!function(t){"use strict";t.fn.maxLenQuote=function(e){var n=this,a={max:15,strip:!0},o=t.extend({},o,e),i=/[\"|\'](\s*\S*)*[\"\']/gi,r=/\n*\t*/g,s=/\d+/,d=function(){(!s.test(e.max)||e.max<0)&&(o.max=a.max,console.log("%cHey guy, you are supposed to enter positive integers for the max value, but no worries we got you covered with defaults.","color:red"))},c=function(e){t.each(e,function(){var e=t(this),n=e.children(),a=e[0].firstChild.textContent.replace(r,"").match(i)[0];a=a.split(" ");var s=a.splice(0,o.max),d=a;e.html(s.join(" ")+String(d.length>0?" <span>...</span> ":"")+" -- ").append(n),d.length>0&&e.append('<br /><a href="#" data-toggled="false" data-content="'+d.join(" ")+'">Read More</a>')})},u=function(){n.find("[data-content]").on("click",function(e){var n=t(this),a="true"!==n.attr("data-toggled");n.text("Read "+(a?"Less":"More")),n.attr("data-toggled",String(a)),n.parent().find("span").text(a?n.attr("data-content"):" ... "),e.preventDefault()})};(function(){d(),c(n.find("li")),u()})();return this}}(jQuery);